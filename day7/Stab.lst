     1                                  ;以下两个函数用于加载GDT，IDT表
     2                                  [BITS 32]
     3                                  
     4                                  GLOBAL load_gdtr, load_idtr
     5                                  
     6                                  [SECTION .text]
     7                                  load_gdtr:              ;void load_gdtr(int limit, int addr);
     8 00000000 668B442404                  MOV AX,[ESP+4]
     9 00000005 6689442406                  MOV [ESP+6],AX
    10 0000000A 0F01542406                  LGDT    [ESP+6]
    11 0000000F C3                          RET
    12                                  
    13                                  
    14                                  load_idtr:             ;void load_idtr(int limit, int addr);
    15 00000010 668B442404                  MOV AX,[ESP+4]
    16 00000015 6689442406                  MOV [ESP+6],AX
    17 0000001A 0F015C2406                  LIDT    [ESP+6]
    18 0000001F C3                          RET
    19                                  
    20                                     
